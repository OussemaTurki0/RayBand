{"version":3,"names":["useCallback","useEffect","useId","useRef","useState","useSWR","useCompletion","api","id","initialCompletion","initialInput","credentials","headers","body","onResponse","onFinish","onError","arguments","length","undefined","hookId","completionId","data","mutate","fallbackData","isLoading","mutateLoading","error","setError","completion","abortController","setAbortController","extraMetadataRef","current","triggerRequest","prompt","options","AbortController","res","fetch","method","JSON","stringify","signal","catch","err","ok","Error","text","reader","json","content","name","stop","abort","setCompletion","complete","input","setInput","handleSubmit","handleInputChange","e"],"sourceRoot":"../../src","sources":["use-completion.ts"],"mappings":"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"}