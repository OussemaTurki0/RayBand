{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":55,"index":55}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../../utils/region","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":56},"end":{"line":2,"column":54,"index":110}}],"key":"GETxcbyik7Wzhks3VfJ7mc44p4A=","exportNames":["*"],"imports":1}},{"name":"./cluster","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":36,"index":147}}],"key":"5ADZMI1dKwBSBucPCtmAgdsgMkk=","exportNames":["*"],"imports":1}},{"name":"supercluster","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":148},"end":{"line":4,"column":40,"index":188}}],"key":"Oj/BgJKaUrnhrBxbgACxnRxOAbg=","exportNames":["*"],"imports":1}},{"name":"../marker","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":189},"end":{"line":5,"column":35,"index":224}}],"key":"M6Oug7AwwFI1WcX6GVePRyEmp2I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"MarkerClusterer\", {\n    enumerable: true,\n    get: function () {\n      return MarkerClusterer;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopDefault(_react);\n  var _utilsRegion = require(_dependencyMap[1], \"../../utils/region\");\n  var _cluster = require(_dependencyMap[2], \"./cluster\");\n  var _supercluster = require(_dependencyMap[3], \"supercluster\");\n  var Supercluster = _interopDefault(_supercluster);\n  var _marker = require(_dependencyMap[4], \"../marker\");\n  function _MarkerClusterer(props) {\n    const [supercluster, _setSupercluster] = (0, _react.useState)(new Supercluster.default());\n    const markers = (0, _react.useMemo)(() => React.default.Children.toArray(props.children).filter(child => {\n      return child.type === _marker.Marker;\n    }) || [], [props.children]);\n    const points = (0, _react.useMemo)(() => markers.map(node => ({\n      type: 'Feature',\n      properties: {\n        cluster: false,\n        node\n      },\n      geometry: {\n        type: 'Point',\n        coordinates: [Number(node.props.coordinate.longitude), Number(node.props.coordinate.latitude)]\n      }\n    })), [markers]);\n    const clusters = (0, _react.useMemo)(() => {\n      if (!props.region) return [];\n      const bbox = (0, _utilsRegion.getBoundByRegion)(props.region);\n      supercluster.load(points);\n      return supercluster.getClusters(bbox, Math.round(Math.log(360 / props.region.longitudeDelta) / Math.LN2));\n    }, [props.region, points]);\n    return /*#__PURE__*/React.default.createElement(React.default.Fragment, null, clusters.map((feature, idx) => {\n      var _props$renderCluster;\n      const clusterProperties = feature.properties;\n      const clusterProps = {\n        expansionZoom: supercluster.getClusterExpansionZoom(clusterProperties.cluster_id),\n        pointCount: clusterProperties.point_count,\n        pointCountAbbreviated: clusterProperties.point_count_abbreviated,\n        coordinate: {\n          longitude: feature.geometry.coordinates[0],\n          latitude: feature.geometry.coordinates[1]\n        }\n      };\n      return /*#__PURE__*/React.default.createElement(React.default.Fragment, {\n        key: idx.toString()\n      }, feature.properties.cluster === true ? ((_props$renderCluster = props.renderCluster) === null || _props$renderCluster === void 0 ? void 0 : _props$renderCluster.call(props, clusterProps)) || /*#__PURE__*/React.default.createElement(_cluster.Cluster, clusterProps) : feature.properties.node);\n    }));\n  }\n  const MarkerClusterer = /*#__PURE__*/(0, _react.memo)(_MarkerClusterer);\n});","lineCount":65,"map":[[12,2,45,0,"Object"],[12,8,45,0],[12,9,45,0,"defineProperty"],[12,23,45,0],[12,24,45,0,"exports"],[12,31,45,0],[13,4,45,0,"enumerable"],[13,14,45,0],[14,4,45,0,"get"],[14,7,45,0],[14,18,45,0,"get"],[14,19,45,0],[15,6,45,0],[15,13,45,0,"MarkerClusterer"],[15,28,45,0],[16,4,45,0],[17,2,45,0],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,1,0],[19,6,1,0,"React"],[19,11,1,0],[19,14,1,0,"_interopDefault"],[19,29,1,0],[19,30,1,0,"_react"],[19,36,1,0],[20,2,2,0],[20,6,2,0,"_utilsRegion"],[20,18,2,0],[20,21,2,0,"require"],[20,28,2,0],[20,29,2,0,"_dependencyMap"],[20,43,2,0],[21,2,3,0],[21,6,3,0,"_cluster"],[21,14,3,0],[21,17,3,0,"require"],[21,24,3,0],[21,25,3,0,"_dependencyMap"],[21,39,3,0],[22,2,4,0],[22,6,4,0,"_supercluster"],[22,19,4,0],[22,22,4,0,"require"],[22,29,4,0],[22,30,4,0,"_dependencyMap"],[22,44,4,0],[23,2,4,0],[23,6,4,0,"Supercluster"],[23,18,4,0],[23,21,4,0,"_interopDefault"],[23,36,4,0],[23,37,4,0,"_supercluster"],[23,50,4,0],[24,2,5,0],[24,6,5,0,"_marker"],[24,13,5,0],[24,16,5,0,"require"],[24,23,5,0],[24,24,5,0,"_dependencyMap"],[24,38,5,0],[25,2,6,0],[25,11,6,9,"_MarkerClusterer"],[25,27,6,25,"_MarkerClusterer"],[25,28,6,26,"props"],[25,33,6,31],[25,35,6,33],[26,4,7,2],[26,10,7,8],[26,11,7,9,"supercluster"],[26,23,7,21],[26,25,7,23,"_setSupercluster"],[26,41,7,39],[26,42,7,40],[26,45,7,43],[26,49,7,43,"useState"],[26,55,7,51],[26,56,7,51,"useState"],[26,64,7,51],[26,66,7,52],[26,70,7,56,"Supercluster"],[26,82,7,68],[26,83,7,68,"default"],[26,90,7,68],[26,91,7,69],[26,92,7,70],[26,93,7,71],[27,4,8,2],[27,10,8,8,"markers"],[27,17,8,15],[27,20,8,18],[27,24,8,18,"useMemo"],[27,30,8,25],[27,31,8,25,"useMemo"],[27,38,8,25],[27,40,8,26],[27,46,8,32,"React"],[27,51,8,37],[27,52,8,37,"default"],[27,59,8,37],[27,60,8,38,"Children"],[27,68,8,46],[27,69,8,47,"toArray"],[27,76,8,54],[27,77,8,55,"props"],[27,82,8,60],[27,83,8,61,"children"],[27,91,8,69],[27,92,8,70],[27,93,8,71,"filter"],[27,99,8,77],[27,100,8,78,"child"],[27,105,8,83],[27,109,8,87],[28,6,9,4],[28,13,9,11,"child"],[28,18,9,16],[28,19,9,17,"type"],[28,23,9,21],[28,28,9,26,"Marker"],[28,35,9,32],[28,36,9,32,"Marker"],[28,42,9,32],[29,4,10,2],[29,5,10,3],[29,6,10,4],[29,10,10,8],[29,12,10,10],[29,14,10,12],[29,15,10,13,"props"],[29,20,10,18],[29,21,10,19,"children"],[29,29,10,27],[29,30,10,28],[29,31,10,29],[30,4,11,2],[30,10,11,8,"points"],[30,16,11,14],[30,19,11,17],[30,23,11,17,"useMemo"],[30,29,11,24],[30,30,11,24,"useMemo"],[30,37,11,24],[30,39,11,25],[30,45,11,31,"markers"],[30,52,11,38],[30,53,11,39,"map"],[30,56,11,42],[30,57,11,43,"node"],[30,61,11,47],[30,66,11,52],[31,6,12,4,"type"],[31,10,12,8],[31,12,12,10],[31,21,12,19],[32,6,13,4,"properties"],[32,16,13,14],[32,18,13,16],[33,8,14,6,"cluster"],[33,15,14,13],[33,17,14,15],[33,22,14,20],[34,8,15,6,"node"],[35,6,16,4],[35,7,16,5],[36,6,17,4,"geometry"],[36,14,17,12],[36,16,17,14],[37,8,18,6,"type"],[37,12,18,10],[37,14,18,12],[37,21,18,19],[38,8,19,6,"coordinates"],[38,19,19,17],[38,21,19,19],[38,22,19,20,"Number"],[38,28,19,26],[38,29,19,27,"node"],[38,33,19,31],[38,34,19,32,"props"],[38,39,19,37],[38,40,19,38,"coordinate"],[38,50,19,48],[38,51,19,49,"longitude"],[38,60,19,58],[38,61,19,59],[38,63,19,61,"Number"],[38,69,19,67],[38,70,19,68,"node"],[38,74,19,72],[38,75,19,73,"props"],[38,80,19,78],[38,81,19,79,"coordinate"],[38,91,19,89],[38,92,19,90,"latitude"],[38,100,19,98],[38,101,19,99],[39,6,20,4],[40,4,21,2],[40,5,21,3],[40,6,21,4],[40,7,21,5],[40,9,21,7],[40,10,21,8,"markers"],[40,17,21,15],[40,18,21,16],[40,19,21,17],[41,4,22,2],[41,10,22,8,"clusters"],[41,18,22,16],[41,21,22,19],[41,25,22,19,"useMemo"],[41,31,22,26],[41,32,22,26,"useMemo"],[41,39,22,26],[41,41,22,27],[41,47,22,33],[42,6,23,4],[42,10,23,8],[42,11,23,9,"props"],[42,16,23,14],[42,17,23,15,"region"],[42,23,23,21],[42,25,23,23],[42,32,23,30],[42,34,23,32],[43,6,24,4],[43,12,24,10,"bbox"],[43,16,24,14],[43,19,24,17],[43,23,24,17,"getBoundByRegion"],[43,35,24,33],[43,36,24,33,"getBoundByRegion"],[43,52,24,33],[43,54,24,34,"props"],[43,59,24,39],[43,60,24,40,"region"],[43,66,24,46],[43,67,24,47],[44,6,25,4,"supercluster"],[44,18,25,16],[44,19,25,17,"load"],[44,23,25,21],[44,24,25,22,"points"],[44,30,25,28],[44,31,25,29],[45,6,26,4],[45,13,26,11,"supercluster"],[45,25,26,23],[45,26,26,24,"getClusters"],[45,37,26,35],[45,38,26,36,"bbox"],[45,42,26,40],[45,44,26,42,"Math"],[45,48,26,46],[45,49,26,47,"round"],[45,54,26,52],[45,55,26,53,"Math"],[45,59,26,57],[45,60,26,58,"log"],[45,63,26,61],[45,64,26,62],[45,67,26,65],[45,70,26,68,"props"],[45,75,26,73],[45,76,26,74,"region"],[45,82,26,80],[45,83,26,81,"longitudeDelta"],[45,97,26,95],[45,98,26,96],[45,101,26,99,"Math"],[45,105,26,103],[45,106,26,104,"LN2"],[45,109,26,107],[45,110,26,108],[45,111,26,109],[46,4,27,2],[46,5,27,3],[46,7,27,5],[46,8,27,6,"props"],[46,13,27,11],[46,14,27,12,"region"],[46,20,27,18],[46,22,27,20,"points"],[46,28,27,26],[46,29,27,27],[46,30,27,28],[47,4,28,2],[47,11,28,9],[47,24,28,22,"React"],[47,29,28,27],[47,30,28,27,"default"],[47,37,28,27],[47,38,28,28,"createElement"],[47,51,28,41],[47,52,28,42,"React"],[47,57,28,47],[47,58,28,47,"default"],[47,65,28,47],[47,66,28,48,"Fragment"],[47,74,28,56],[47,76,28,58],[47,80,28,62],[47,82,28,64,"clusters"],[47,90,28,72],[47,91,28,73,"map"],[47,94,28,76],[47,95,28,77],[47,96,28,78,"feature"],[47,103,28,85],[47,105,28,87,"idx"],[47,108,28,90],[47,113,28,95],[48,6,29,4],[48,10,29,8,"_props$renderCluster"],[48,30,29,28],[49,6,30,4],[49,12,30,10,"clusterProperties"],[49,29,30,27],[49,32,30,30,"feature"],[49,39,30,37],[49,40,30,38,"properties"],[49,50,30,48],[50,6,31,4],[50,12,31,10,"clusterProps"],[50,24,31,22],[50,27,31,25],[51,8,32,6,"expansionZoom"],[51,21,32,19],[51,23,32,21,"supercluster"],[51,35,32,33],[51,36,32,34,"getClusterExpansionZoom"],[51,59,32,57],[51,60,32,58,"clusterProperties"],[51,77,32,75],[51,78,32,76,"cluster_id"],[51,88,32,86],[51,89,32,87],[52,8,33,6,"pointCount"],[52,18,33,16],[52,20,33,18,"clusterProperties"],[52,37,33,35],[52,38,33,36,"point_count"],[52,49,33,47],[53,8,34,6,"pointCountAbbreviated"],[53,29,34,27],[53,31,34,29,"clusterProperties"],[53,48,34,46],[53,49,34,47,"point_count_abbreviated"],[53,72,34,70],[54,8,35,6,"coordinate"],[54,18,35,16],[54,20,35,18],[55,10,36,8,"longitude"],[55,19,36,17],[55,21,36,19,"feature"],[55,28,36,26],[55,29,36,27,"geometry"],[55,37,36,35],[55,38,36,36,"coordinates"],[55,49,36,47],[55,50,36,48],[55,51,36,49],[55,52,36,50],[56,10,37,8,"latitude"],[56,18,37,16],[56,20,37,18,"feature"],[56,27,37,25],[56,28,37,26,"geometry"],[56,36,37,34],[56,37,37,35,"coordinates"],[56,48,37,46],[56,49,37,47],[56,50,37,48],[57,8,38,6],[58,6,39,4],[58,7,39,5],[59,6,40,4],[59,13,40,11],[59,26,40,24,"React"],[59,31,40,29],[59,32,40,29,"default"],[59,39,40,29],[59,40,40,30,"createElement"],[59,53,40,43],[59,54,40,44,"React"],[59,59,40,49],[59,60,40,49,"default"],[59,67,40,49],[59,68,40,50,"Fragment"],[59,76,40,58],[59,78,40,60],[60,8,41,6,"key"],[60,11,41,9],[60,13,41,11,"idx"],[60,16,41,14],[60,17,41,15,"toString"],[60,25,41,23],[60,26,41,24],[61,6,42,4],[61,7,42,5],[61,9,42,7,"feature"],[61,16,42,14],[61,17,42,15,"properties"],[61,27,42,25],[61,28,42,26,"cluster"],[61,35,42,33],[61,40,42,38],[61,44,42,42],[61,47,42,45],[61,48,42,46],[61,49,42,47,"_props$renderCluster"],[61,69,42,67],[61,72,42,70,"props"],[61,77,42,75],[61,78,42,76,"renderCluster"],[61,91,42,89],[61,97,42,95],[61,101,42,99],[61,105,42,103,"_props$renderCluster"],[61,125,42,123],[61,130,42,128],[61,135,42,133],[61,136,42,134],[61,139,42,137],[61,144,42,142],[61,145,42,143],[61,148,42,146,"_props$renderCluster"],[61,168,42,166],[61,169,42,167,"call"],[61,173,42,171],[61,174,42,172,"props"],[61,179,42,177],[61,181,42,179,"clusterProps"],[61,193,42,191],[61,194,42,192],[61,199,42,197],[61,212,42,210,"React"],[61,217,42,215],[61,218,42,215,"default"],[61,225,42,215],[61,226,42,216,"createElement"],[61,239,42,229],[61,240,42,230,"Cluster"],[61,248,42,237],[61,249,42,237,"Cluster"],[61,256,42,237],[61,258,42,239,"clusterProps"],[61,270,42,251],[61,271,42,252],[61,274,42,255,"feature"],[61,281,42,262],[61,282,42,263,"properties"],[61,292,42,273],[61,293,42,274,"node"],[61,297,42,278],[61,298,42,279],[62,4,43,2],[62,5,43,3],[62,6,43,4],[62,7,43,5],[63,2,44,0],[64,2,45,7],[64,8,45,13,"MarkerClusterer"],[64,23,45,28],[64,26,45,31],[64,39,45,44],[64,43,45,44,"memo"],[64,49,45,48],[64,50,45,48,"memo"],[64,54,45,48],[64,56,45,49,"_MarkerClusterer"],[64,72,45,65],[64,73,45,66],[65,0,45,67],[65,3]],"functionMap":{"names":["<global>","_MarkerClusterer","useMemo$argument_0","React.Children.toArray.filter$argument_0","markers.map$argument_0","clusters.map$argument_0"],"mappings":"AAA;ACK;0BCE,oDC;GDE,OD;yBCC,kBE;IFU,CD;2BCC;GDK;6EIC;GJe;CDC"},"hasCjsExports":false},"type":"js/module"}]}