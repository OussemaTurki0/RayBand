{"dependencies":[{"name":"expo-location","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"GNP7AGCKsBRUhlnTZ4lIPpbkT9E=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":43},"end":{"line":2,"column":57,"index":100}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.useUserLocation = useUserLocation;\n  var _expoLocation = require(_dependencyMap[0], \"expo-location\");\n  var Location = _interopNamespace(_expoLocation);\n  var _react = require(_dependencyMap[1], \"react\");\n  function useUserLocation(options) {\n    const [location, setLocation] = (0, _react.useState)();\n    const [watchPositionSubscription, setWatchPositionSubscription] = (0, _react.useState)();\n    const [permission] = Location.useForegroundPermissions({\n      request: options.requestPermission,\n      get: options.showUserLocation\n    });\n    const handleLocationChange = (0, _react.useCallback)(function (e) {\n      var _options$onUserLocati;\n      setLocation(e);\n      (_options$onUserLocati = options.onUserLocationChange) === null || _options$onUserLocati === void 0 ? void 0 : _options$onUserLocati.call(options, {\n        nativeEvent: {\n          coordinate: {\n            ...e.coords,\n            timestamp: Date.now(),\n            altitude: e.coords.altitude || 0,\n            heading: e.coords.heading || 0,\n            accuracy: e.coords.accuracy || Location.Accuracy.Balanced,\n            isFromMockProvider: e.mocked || false,\n            speed: e.coords.speed || 0\n          }\n        }\n      });\n    }, [options.onUserLocationChange]);\n    (0, _react.useEffect)(() => {\n      if (permission !== null && permission !== void 0 && permission.granted && options.followUserLocation) {\n        Location.getCurrentPositionAsync().then(handleLocationChange);\n        // Watch position\n        Location.watchPositionAsync({\n          accuracy: Location.Accuracy.Balanced\n        }, handleLocationChange).then(setWatchPositionSubscription);\n      }\n      return () => watchPositionSubscription === null || watchPositionSubscription === void 0 ? void 0 : watchPositionSubscription.remove();\n    }, [permission, options.followUserLocation]);\n    return location;\n  }\n});","lineCount":62,"map":[[22,2,3,0,"exports"],[22,9,3,0],[22,10,3,0,"useUserLocation"],[22,25,3,0],[22,28,3,0,"useUserLocation"],[22,43,3,0],[23,2,1,0],[23,6,1,0,"_expoLocation"],[23,19,1,0],[23,22,1,0,"require"],[23,29,1,0],[23,30,1,0,"_dependencyMap"],[23,44,1,0],[24,2,1,0],[24,6,1,0,"Location"],[24,14,1,0],[24,17,1,0,"_interopNamespace"],[24,34,1,0],[24,35,1,0,"_expoLocation"],[24,48,1,0],[25,2,2,0],[25,6,2,0,"_react"],[25,12,2,0],[25,15,2,0,"require"],[25,22,2,0],[25,23,2,0,"_dependencyMap"],[25,37,2,0],[26,2,3,7],[26,11,3,16,"useUserLocation"],[26,26,3,31,"useUserLocation"],[26,27,3,32,"options"],[26,34,3,39],[26,36,3,41],[27,4,4,2],[27,10,4,8],[27,11,4,9,"location"],[27,19,4,17],[27,21,4,19,"setLocation"],[27,32,4,30],[27,33,4,31],[27,36,4,34],[27,40,4,34,"useState"],[27,46,4,42],[27,47,4,42,"useState"],[27,55,4,42],[27,57,4,43],[27,58,4,44],[28,4,5,2],[28,10,5,8],[28,11,5,9,"watchPositionSubscription"],[28,36,5,34],[28,38,5,36,"setWatchPositionSubscription"],[28,66,5,64],[28,67,5,65],[28,70,5,68],[28,74,5,68,"useState"],[28,80,5,76],[28,81,5,76,"useState"],[28,89,5,76],[28,91,5,77],[28,92,5,78],[29,4,6,2],[29,10,6,8],[29,11,6,9,"permission"],[29,21,6,19],[29,22,6,20],[29,25,6,23,"Location"],[29,33,6,31],[29,34,6,32,"useForegroundPermissions"],[29,58,6,56],[29,59,6,57],[30,6,7,4,"request"],[30,13,7,11],[30,15,7,13,"options"],[30,22,7,20],[30,23,7,21,"requestPermission"],[30,40,7,38],[31,6,8,4,"get"],[31,9,8,7],[31,11,8,9,"options"],[31,18,8,16],[31,19,8,17,"showUserLocation"],[32,4,9,2],[32,5,9,3],[32,6,9,4],[33,4,10,2],[33,10,10,8,"handleLocationChange"],[33,30,10,28],[33,33,10,31],[33,37,10,31,"useCallback"],[33,43,10,42],[33,44,10,42,"useCallback"],[33,55,10,42],[33,57,10,43],[33,67,10,53,"e"],[33,68,10,54],[33,70,10,56],[34,6,11,4],[34,10,11,8,"_options$onUserLocati"],[34,31,11,29],[35,6,12,4,"setLocation"],[35,17,12,15],[35,18,12,16,"e"],[35,19,12,17],[35,20,12,18],[36,6,13,4],[36,7,13,5,"_options$onUserLocati"],[36,28,13,26],[36,31,13,29,"options"],[36,38,13,36],[36,39,13,37,"onUserLocationChange"],[36,59,13,57],[36,65,13,63],[36,69,13,67],[36,73,13,71,"_options$onUserLocati"],[36,94,13,92],[36,99,13,97],[36,104,13,102],[36,105,13,103],[36,108,13,106],[36,113,13,111],[36,114,13,112],[36,117,13,115,"_options$onUserLocati"],[36,138,13,136],[36,139,13,137,"call"],[36,143,13,141],[36,144,13,142,"options"],[36,151,13,149],[36,153,13,151],[37,8,14,6,"nativeEvent"],[37,19,14,17],[37,21,14,19],[38,10,15,8,"coordinate"],[38,20,15,18],[38,22,15,20],[39,12,16,10],[39,15,16,13,"e"],[39,16,16,14],[39,17,16,15,"coords"],[39,23,16,21],[40,12,17,10,"timestamp"],[40,21,17,19],[40,23,17,21,"Date"],[40,27,17,25],[40,28,17,26,"now"],[40,31,17,29],[40,32,17,30],[40,33,17,31],[41,12,18,10,"altitude"],[41,20,18,18],[41,22,18,20,"e"],[41,23,18,21],[41,24,18,22,"coords"],[41,30,18,28],[41,31,18,29,"altitude"],[41,39,18,37],[41,43,18,41],[41,44,18,42],[42,12,19,10,"heading"],[42,19,19,17],[42,21,19,19,"e"],[42,22,19,20],[42,23,19,21,"coords"],[42,29,19,27],[42,30,19,28,"heading"],[42,37,19,35],[42,41,19,39],[42,42,19,40],[43,12,20,10,"accuracy"],[43,20,20,18],[43,22,20,20,"e"],[43,23,20,21],[43,24,20,22,"coords"],[43,30,20,28],[43,31,20,29,"accuracy"],[43,39,20,37],[43,43,20,41,"Location"],[43,51,20,49],[43,52,20,50,"Accuracy"],[43,60,20,58],[43,61,20,59,"Balanced"],[43,69,20,67],[44,12,21,10,"isFromMockProvider"],[44,30,21,28],[44,32,21,30,"e"],[44,33,21,31],[44,34,21,32,"mocked"],[44,40,21,38],[44,44,21,42],[44,49,21,47],[45,12,22,10,"speed"],[45,17,22,15],[45,19,22,17,"e"],[45,20,22,18],[45,21,22,19,"coords"],[45,27,22,25],[45,28,22,26,"speed"],[45,33,22,31],[45,37,22,35],[46,10,23,8],[47,8,24,6],[48,6,25,4],[48,7,25,5],[48,8,25,6],[49,4,26,2],[49,5,26,3],[49,7,26,5],[49,8,26,6,"options"],[49,15,26,13],[49,16,26,14,"onUserLocationChange"],[49,36,26,34],[49,37,26,35],[49,38,26,36],[50,4,27,2],[50,8,27,2,"useEffect"],[50,14,27,11],[50,15,27,11,"useEffect"],[50,24,27,11],[50,26,27,12],[50,32,27,18],[51,6,28,4],[51,10,28,8,"permission"],[51,20,28,18],[51,25,28,23],[51,29,28,27],[51,33,28,31,"permission"],[51,43,28,41],[51,48,28,46],[51,53,28,51],[51,54,28,52],[51,58,28,56,"permission"],[51,68,28,66],[51,69,28,67,"granted"],[51,76,28,74],[51,80,28,78,"options"],[51,87,28,85],[51,88,28,86,"followUserLocation"],[51,106,28,104],[51,108,28,106],[52,8,29,6,"Location"],[52,16,29,14],[52,17,29,15,"getCurrentPositionAsync"],[52,40,29,38],[52,41,29,39],[52,42,29,40],[52,43,29,41,"then"],[52,47,29,45],[52,48,29,46,"handleLocationChange"],[52,68,29,66],[52,69,29,67],[53,8,30,6],[54,8,31,6,"Location"],[54,16,31,14],[54,17,31,15,"watchPositionAsync"],[54,35,31,33],[54,36,31,34],[55,10,32,8,"accuracy"],[55,18,32,16],[55,20,32,18,"Location"],[55,28,32,26],[55,29,32,27,"Accuracy"],[55,37,32,35],[55,38,32,36,"Balanced"],[56,8,33,6],[56,9,33,7],[56,11,33,9,"handleLocationChange"],[56,31,33,29],[56,32,33,30],[56,33,33,31,"then"],[56,37,33,35],[56,38,33,36,"setWatchPositionSubscription"],[56,66,33,64],[56,67,33,65],[57,6,34,4],[58,6,35,4],[58,13,35,11],[58,19,35,17,"watchPositionSubscription"],[58,44,35,42],[58,49,35,47],[58,53,35,51],[58,57,35,55,"watchPositionSubscription"],[58,82,35,80],[58,87,35,85],[58,92,35,90],[58,93,35,91],[58,96,35,94],[58,101,35,99],[58,102,35,100],[58,105,35,103,"watchPositionSubscription"],[58,130,35,128],[58,131,35,129,"remove"],[58,137,35,135],[58,138,35,136],[58,139,35,137],[59,4,36,2],[59,5,36,3],[59,7,36,5],[59,8,36,6,"permission"],[59,18,36,16],[59,20,36,18,"options"],[59,27,36,25],[59,28,36,26,"followUserLocation"],[59,46,36,44],[59,47,36,45],[59,48,36,46],[60,4,37,2],[60,11,37,9,"location"],[60,19,37,17],[61,2,38,0],[62,0,38,1],[62,3]],"functionMap":{"names":["<global>","useUserLocation","handleLocationChange","useEffect$argument_0","<anonymous>"],"mappings":"AAA;OCE;2CCO;GDgB;YEC;WCQ,8HD;GFC;CDE"},"hasCjsExports":false},"type":"js/module"}]}